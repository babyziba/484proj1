/* ===== Global theme & sizes ===== */
:root{
  --panel:#8797db;
  --stage:#d9d0ff;
  --btn:#f7b7b6;

  --panel-w: 640px;
  --stage-h: 440px;

  /* Sprite size controls Pichu + all overlays ratio */
  --sprite: 320px;
  --dx: 0px;  /* small nudge if overlays are off */
  --dy: 0px;
}

*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
  background: url("bg.png") center/cover no-repeat;
  display:grid; place-items:center;
}

/* ===== Layout bits ===== */
header, nav, main, footer{ max-width: 900px; width: min(92vw, 900px); }
.site-nav{
  display:flex; gap:12px; flex-wrap:wrap; justify-content:center; margin:20px 0;
}
.site-nav a{
  text-decoration:none; padding:10px 14px; border-radius:10px;
  background:#ffffffaa; color:#1f2a44; font-weight:600;
}
.site-nav a[aria-current="page"]{ outline:3px solid #fff; background:#ffffff; }

.panel{
  width:min(var(--panel-w), 92vw);
  background:var(--panel);
  border-radius:20px;
  padding:18px;
  box-shadow:0 14px 28px rgba(0,0,0,.18);
}

.stage{
  height:min(var(--stage-h), 70vh);
  background:var(--stage);
  border-radius:12px;
  margin-bottom:16px;
  position:relative;
  overflow:hidden;
  display:grid; place-items:center; /* centers sprite box */
}

/* Hidden radios (used as CSS state) */
input[type=radio]{ position:absolute; opacity:0; pointer-events:none }

/* ===== Sprite system (dress-up & snack share this) ===== */
.sprite{
  position:relative;
  width:var(--sprite);
  height:var(--sprite);
}
.base, .layer{
  position:absolute; top:0; left:0;
  width:100%; height:100%;
  image-rendering:pixelated; /* crisp pixels */
}
.layer{ display:none; transform: translate(var(--dx), var(--dy)); }

/* Layer order */
.clo{ z-index:20 }  /* clothes */
.acc{ z-index:30 }  /* accessories */
.hat{ z-index:40 }  /* hats */
.treat{ z-index:50 }/* snack overlays */

/* Tabs (3 big circles) */
.tabs{ display:flex; gap:28px; justify-content:center }
.tab{
  width:100px; height:100px; border-radius:50%;
  background:var(--btn); display:grid; place-items:center;
  cursor:pointer; box-shadow: inset 0 -6px 0 rgba(0,0,0,.06);
}


/* Arrow buttons (show/hide per tab in the page CSS below) */
.arrow{
  position:absolute; top:50%; transform:translateY(-50%);
  width:44px; height:44px; line-height:44px; text-align:center;
  border-radius:50%; background:var(--btn);
  cursor:pointer; user-select:none;
  box-shadow:0 8px 16px rgba(0,0,0,.25);
  font-weight:bold; display:none;
}
.arrow.l{ left:16px } .arrow.r{ right:16px }

/* Utility */
.center{ text-align:center }
.small{ font-size:.9rem; opacity:.85 }

/* ---------- Snack page behaviors (no JS) ---------- */

/* Hide all meters by default; we'll reveal one based on the selected treat */
.meter-wrap meter { display: none; }

/* Show the matching meter for the selected treat (0=None, 1..3 = treats) */
#treat-0:checked ~ .sprite ~ .meter-wrap .m0 { display: inline-block; }
#treat-1:checked ~ .sprite ~ .meter-wrap .m1 { display: inline-block; }
#treat-2:checked ~ .sprite ~ .meter-wrap .m2 { display: inline-block; }
#treat-3:checked ~ .sprite ~ .meter-wrap .m3 { display: inline-block; }

/* Swap to happy.png when fullness is "100" (treat-3 in this example) */
.sprite .happy { display: none; }          /* hidden by default */
#treat-3:checked ~ .sprite .base { display: none; }
#treat-3:checked ~ .sprite .happy { display: block; }
